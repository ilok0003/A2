{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 750,
    "height": 450,
    "title": {
      "text":"Greenhouse Gases Emission Index",
      "fontSize":16,
      "subtitle":" "
    }, 
    "data": {"url": "https://raw.githubusercontent.com/lllkl12/FIT3179_Submission/main/asgn2/data/net_greenhouse_gas_emissions_processed.csv"},
    "encoding": {
      "x": {"field": "TIME", "type":"temporal", "axis": {"title":"Year","grid":false}},
      "y": { "field": "Value", "type": "quantitative", "axis": {"title":"Emission Index","grid":false}},
      "color": {"field": "GEO", "type": "nominal", 
              "scale":{"scheme":"category20"},
              "legend":{
                "title":"Country",
                "labelFontSize":11,
                 "labelLimit":70,
                 "symbolSize": 65
              }},
      "tooltip":[
        {"field": "GEO", "type": "nominal", "title": "Country"},
        {"field": "TIME", "type": "temporal", "title": "Year", "formatType": "year"},
        {"field": "Value", "type": "quantitative", "title": "Green House Gases Emission Index"}
      ]
    },
    "transform": [
      {"filter":"datum.GEO != 'European Union - 28 countries (2013-2020)'"}
    ],
    
    "layer":[
      {
        "mark": "rect",
        "encoding": {
          "x": {
            "value":530
          },
          "x2": {
            "value":750
          },
          "color":{"value": "#f2faf4"}
        }
      },

      {
        "encoding": {
          
          "opacity":{
            "condition":{"param": "country_selection","empty": false, "value":1},
            "value":0.1
          }
        },
        "params":[
          {
            "name":"country_selection",
            "select":{"type":"point", "fields": ["GEO"]},
            "bind":"legend"
          }
        ],
        "mark": {
          "type": "line",
          "point": {
            "filled": false,
            "fill": "white"
          }
        },
        "transform": [
          {"filter":"datum.GEO != 'European Union - 27 countries (from 2020)'"}
        ]
      },

      {
        "encoding": {

          "opacity":{
            "condition":{"param": "country_selection","empty": true, "value":1},
            "value":0.05
          }
        },
        "mark": {
          "type": "line",
          "point": {
            "filled": false,
            "fill": "white"
          }
        },
        "transform": [
          {"filter":"datum.GEO == 'European Union - 27 countries (from 2020)'"}
        ]
      },


      {
        "mark": "rule",
        "encoding": {
          "y": {"value": 178.5},
          "color": {"value": "red"},
          "size": {"value": 0.5}
        }
      },

      {
        
        "mark":{
          "type":"text",
          "align": "left",
          "fontSize": 13,
          "fontWeight":100,
          "font": "Open Sans"
        },
        
        "encoding": {
          "text":{"value":"Paris Climate Agreement"},
          "color":{"value":"grey"},
          "x":{"value":570},
          "y":{"value":400}
        }
      },

      {
        
        "mark":{
          "type":"text",
          "fontSize": 14,
          "fontWeight":100,
          "font": "Open Sans"
        },
        
        "encoding": {
          "text":{"value":"European Union"},
          "color":{"value":"#9467bd"},
          "x":{"value":350},
          "y":{"value":225},
          "opacity":{
            "condition":{"param": "country_selection","empty": true, "value":1},
            "value":0
          }
        },
        "transform": [
          {"filter":"datum.GEO == 'European Union - 27 countries (from 2020)'"}
        ]
      }

      


    ],
    "config": {
      "style": {
        "cell": {
          "stroke": "transparent"
        }
      }
    }
    
  }
  